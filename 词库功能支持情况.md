# 豆包HTTP 传统模式
接口地址 
POST https://openspeech.bytedance.com/api/v3/auc/bigmodel/recognize/flash


## 请求

请求方式：HTTP POST。  
请求和应答，均采用在 HTTP BODY 里面传输 JSON 格式字串的方式。  
Header 需要加入内容类型标识：

| Key | 说明  | Value 示例 |
| --- | --- | --- |
| X-Api-App-Key | 使用火山引擎控制台获取的APP ID，可参考 [控制台使用FAQ-Q1](https://www.volcengine.com/docs/6561/196768#q1%EF%BC%9A%E5%93%AA%E9%87%8C%E5%8F%AF%E4%BB%A5%E8%8E%B7%E5%8F%96%E5%88%B0%E4%BB%A5%E4%B8%8B%E5%8F%82%E6%95%B0appid%EF%BC%8Ccluster%EF%BC%8Ctoken%EF%BC%8Cauthorization-type%EF%BC%8Csecret-key-%EF%BC%9F) | 123456789 |
| X-Api-Access-Key | 使用火山引擎控制台获取的Access Token，可参考 [控制台使用FAQ-Q1](https://www.volcengine.com/docs/6561/196768#q1%EF%BC%9A%E5%93%AA%E9%87%8C%E5%8F%AF%E4%BB%A5%E8%8E%B7%E5%8F%96%E5%88%B0%E4%BB%A5%E4%B8%8B%E5%8F%82%E6%95%B0appid%EF%BC%8Ccluster%EF%BC%8Ctoken%EF%BC%8Cauthorization-type%EF%BC%8Csecret-key-%EF%BC%9F) | your-access-key |
| X-Api-Resource-Id | 表示调用服务的资源信息 ID | 豆包录音文件识别模型1.0<br/>+ volc.bigasr.auc<br/>豆包录音文件识别模型2.0<br/>+ volc.seedasr.auc |
| X-Api-Request-Id | 用于提交和查询任务的任务ID，推荐传入随机生成的UUID | 67ee89ba-7050-4c04-a3d7-ac61a63499b3 |
| X-Api-Sequence | 发包序号，固定值，-1 |     |

### 请求字段

在原本的基础上加上这个

| 字段  | 说明  | 层级  | 格式  | 是否必填 | 备注  |
| --- | --- | --- | --- | --- | --- |
| request | 请求相关配置 | 1   | dict | ✓   |     |
| corpus | 语料/干预词等 | 2   | string |     |     |
| context | 上下文功能 | 3   | string |     | 1. 热词直传，支持5000个词<br/>"context":"{"hotwords":[{"word":"热词1号"}, {"word":"热词2号"}]}" “context”：“{”hotwords“：[{”word“：”热词1号“}， {”word“：”热词2号“}]}”<br/>1. 上下文，限制800 tokens及20轮（含）内，超出会按照时间顺序从新到旧截断，优先保留更新的对话<br/>context_data字段按照从新到旧的顺序排列，传入需要序列化为jsonstring（转义引号） **豆包录音文件识别模型2.0，支持将上下文理解的范围从纯文本扩展到视觉层面，** **通过理解图像内容，帮助模型更精准地完成语音转录。通过image_url传入图片，** **图片限制传入1张，大小：500k以内（格式：jpeg、jpg、png ）**<br/>```plain 上下文:可以加入对话历史、聊天所在bot信息、个性化信息、业务场景信息等,如: a.对话历史:把最近几轮的对话历史传进来 b.聊天所在bot信息:如"我在和林黛玉聊天","我在使用A助手和手机对话" c.个性化信息:"我当前在北京市海淀区","我有四川口音","我喜欢音乐" d.业务场景信息:"当前是中国平安的营销人员针对外部客户采访的录音,可能涉及..." { \"context_type\": \"dialog_ctx\", \"context_data\":[ {\"text\": \"text1\"}, {\"image_url\": \"image_url\"}, {\"text\": \"text2\"}, {\"text\": \"text3\"}, {\"text\": \"text4\"}, ... ] } ``` |

请求示例：

```plain
{
    "user": {
        "uid": "388808087185088"
    },
    "audio": {
        "format": "mp3",
        "url": "http://xxx.com/obj/sample.mp3"
    },
    "request": {
        "corpus": {
        "context":"{"hotwords":[{"word":"热词1号"}, {"word":"热词2号"}]}"
    }
}
```

##
# 豆包流式模式
请求的改造字段同上，都是request中的corpus中的context中的hotwords传递

# qwenHTTP 传统模式

## 请求字段

在text中content传递
messages = [
    {"role": "system", "content": [{"text": "Bulge Bracket、Boutique、Middle Market、国内券商"}]},  # 配置定制化识别的 Context（Bulge Bracket、Boutique、Middle Market、国内券商都是单独的词用、分隔）
    {"role": "user", "content": [{"audio": "https://dashscope.oss-cn-beijing.aliyuncs.com/audios/welcome.mp3"}]}
]


热词列表（热词 1、热词 2、热词 3、热词 4）

# qwen流式模式
WebSocket API：通过session.update事件的session.input_audio_transcription.corpus.text参数设置。


热词列表（热词 1、热词 2、热词 3、热词 4）